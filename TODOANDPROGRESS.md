# To do
- [Server + Client] Add google authenticator for 2FA
- [Server] Refactor common authorization validation (e.g. if they own the project/task) into a middleware instead of copy pasting throughout app. maybe put relevant stuff (e.g. the user itself) into req (like how we placed the email) so that we can reduce finding details for the user everytime
- [Server] Extend functionality Task entity to include custom tasks (i.e. custom columns)
- [Client + Server] Sorting / Pagination For Task
- [Client] work more on basic structure of share project and unlock
    - unlock: need confirmation to unlock, also let usual know only 1 can unlock unless premium, etc....
    - share: multiple adding of emails and when click x, should have maybe another modal confirmation (TBC?)
- [Client] Ensure proper error handling done
- [Client] Basic styling using MUI

- TBC... sometime in the future...
- [Server] Add auth for User routes for admin only
- [Server] Enable choosing of either read only or view only for sharing
- [Server] Once deployed, get a proper webhook from stripe and get the according keys and place it in the code (payments controller). This is because currently, webhook is only done in local env
- [Server + Frontend] Set up crypto payments for recurring payments premium tier
    - Need to complete next project first before this is implemented
    - Create a smart contract to handle to recurring payments. The idea is: user sets allowance for ERC20 token > a server calls the smart contract every 1 month > the function called reduces the ERC20 balance directly from their wallet (try this out first) > upon success, server calls API to backend to change status to paid, if fail, change status to free


# Done
- 16/06/23: Initialization of client and server app
- 20/06/23: [Server] Basic Create and read for just main Project (creating data in the project do later) with mongodb mongoose express node. Ensure correct folder structure (controllers, models, routes)
- 22/06/23: [Server] Basic CRUD functionalities for Project entity
- 22/06/23: [Server] Basic create and read for User entity
- 23/06/23: [Server] Extend functionality for User entity (e.g. password validation, sign up (create) , login (extension of get), etc...)
- 23/06/23: [Server] Added authorization for certain APIs. When user logs in, there will be a JWT token returned which must be used to for authorization for some APIs
- 23/06/23: [Server] Link project to users and ensure only the users can edit the project; Project should now have a owner field. Upon creating, link the email to the Project
- 23/06/23: [Server] CRUD Functionalities of Task entity and link it to the project (i.e. the columns and date for the "table")
- 24/06/23: [Server] Upon editing certain task (just nextAction for now) there should be a history of it.  
- 24/06/23: [Server] Add authorization for tasks and ensure only owner of the project can perform actions on the Task for the given Project
- 24/06/23: [Server] Enable "sharing" of projects. Hence, in Project Entity, add one more property: editors which is an array of the emails.
    - Only owners can share Project with people
    - editors can view the Project but cannot edit the Project (i.e. cant change project description/share,etc...)
- 25/06/23: [Server] Enable remove sharing of projects. Improved error handling for sharing to ensure input of email is an array of strings. Previously, if user sends as text, app will crash because it tries to loop on undefined. 
- 25/06/23: [Server] editors of the board can edit tasks for the Project
- 25/06/23: [Server] Upon delete project, need to ensure that editors are removed and all tasks under it are removed too
- 25/06/23: [Server] Users can only create up to 1 boards if they are in free tier. Shared is not counted. 
- 26/06/23: [Server] If premium user with >1 boards become free user, ensure board is locked and people can't access. Give ability to owner to choose which board to "lock" and which to be able to use if they dont want to go back to premium
    - On Create Project, push the new project to user owned project [ok]
    - On Delete Project, remove project from user own project [ok]
    - Note: check user controller for the changing paid status to lock the board [ok]
    - Give user option to change which board to unlocked. Do in project controller and make new route [ok]
    - Ensure if project is locked, there is validation on tasks that makes the user unable to access resource [ok]
- 26/06/23: [Server] Drafted backend for stripe and oauth google. Need to revisit later
- 27/06/23: [Client] Get basic frontend skeleton out: General App Structure, Login, Layout (Navbar and SideBar), Project (halfway)
- 27/06/23: [Client] Get basic frontend skeleton out: CRUD Functionality for task
- 27/06/23: [Client] Get basic frontend skeleton out: Next Action History; Need to refactor to a modal next time
- 28/06/23: [Client] Get basic frontend skeleton out:
    - Scenario if project locked; users shouldn't be able to access data; it will open but it shows a locked screen. Still can access action toolbar[ok]
    - add project in side bar [ok]
- 28/06/23: [Client] Started with basic styling using Material UI
- 28/06/23: [Client] Refactored Project component out into diffent files
- 28/06/23: [Client] Basic layout structure for navbar and sidebar
- 29/06/23: [Client] Added redux for sharing user details with other components
- 29/06/23: [Client] Get basic frontend skeleton out: 
    - Update delete project button in project itself[ok]
    - Sharing of project ( do in project itself) [halfway]
    - Unlock(if needed) (do in project itself) [halfway]
- 30/06/23: [Client + Server] Enabled stripe for recurring payments. User becomes premium upon confirmation of payment from the webhook stripe sends. Changed User Entity accordingly to include stripeId, plan details and end date for subscription
- 30/06/23: [Server + Frontend] allow clients to handle their subscriptions in stripe
- 30/06/23: [Server + Frontend] need to ensure that if the current date has passed the subscription enddate (as can be seen in User entity) that it automatically changes the plan to none and isPremium to false. Can maybe do this at the start when we get client details in the Layout.js 
- 01/07/23: [Server + Client] Session for login
    - JWT Token only valid for 1 hour. (can change in the login user controller if want)
    - User gets redirected to login page if JWT token expires or no JWT token
    - Refactored API data required auth
- 02/07/23: [Server + Client] Add OAuth (Gmail only first) as authentication